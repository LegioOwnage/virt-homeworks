# Домашнее задание к занятию "5.5. Оркестрация кластером Docker контейнеров на примере Docker Swarm"

## Задача 1

Дайте письменые ответы на следующие вопросы:

- В чём отличие режимов работы сервисов в Docker Swarm кластере: replication и global?
- Какой алгоритм выбора лидера используется в Docker Swarm кластере?
- Что такое Overlay Network?

Ответ:

- В режиме global одна служба запускается на всех узлах кластера, в то время как в режиме replication лишь на 3-ех.
- Raft алгоритм, т.е после недоступности лидера, на его место назначается кандитат, который отправляет запросы других узлам на то, чтобы его назначили лидером. Как только он получает ответные запросы этих узлов, кандидат становится лидером. Если кандидатов несколько, то выграет тот, кто наберет большее кол-во ответных запросов за один таймаут.
- Overlay Network - это сеть, создаваемая поверх другой сети, которая позволяет клиентам общаться друг с другом, изолированно от других клиентов. Например: VPN сеть, когда два устройства соединяются напрямую, хоть и фактически их соединение проходит длинный путь.

## Задача 2

Создать ваш первый Docker Swarm кластер в Яндекс.Облаке

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
```
docker node ls
```

Ответ:
![Screenshot from 2022-01-08 22-22-57](https://user-images.githubusercontent.com/89036206/148657026-0b1fe188-f6d8-4f43-a528-77023f7f26cb.png)


## Задача 3

Создать ваш первый, готовый к боевой эксплуатации кластер мониторинга, состоящий из стека микросервисов.

Для получения зачета, вам необходимо предоставить скриншот из терминала (консоли), с выводом команды:
```
docker service ls
```

Ответ:
![Screenshot from 2022-01-08 22-32-24](https://user-images.githubusercontent.com/89036206/148657316-2317148b-03c8-4e7b-9bfa-6cd1ff66a137.png)


## Задача 4 (*)

Выполнить на лидере Docker Swarm кластера команду (указанную ниже) и дать письменное описание её функционала, что она делает и зачем она нужна:
```
# см.документацию: https://docs.docker.com/engine/swarm/swarm_manager_locking/
docker swarm update --autolock=true
```

Ответ:
Данная функция позволяет защитить наш стек приложений и всю систему уникальынм ключом шифрования от возможных несанкционированных изменений.
После перезагрузки docker необходимо ввести ключ и только тогда можно будет получить к нему доступ и всем остальным сервисам.

![Screenshot from 2022-01-08 23-38-30](https://user-images.githubusercontent.com/89036206/148659518-c1f1b106-86f1-4b3a-be73-8534e67edf9d.png)


---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
